<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Real-Time Monitoring of Crisis: The European Sovereign Sector • psymonitor</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Real-Time Monitoring of Crisis: The European Sovereign Sector">
<meta property="og:description" content="">
<meta property="og:image" content="https://itamarcaspi.github.io/psymonitor/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">psymonitor</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/illustrationSNP.html">Monitoring the S&amp;P 500</a>
    </li>
    <li>
      <a href="../articles/illustrationBONDS.html">Monitoring the European Sovereign Debt Market</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/itamarcaspi/psymonitor/">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Real-Time Monitoring of Crisis: The European Sovereign Sector</h1>
                        <h4 class="author">Peter C. B. Phillips</h4>
            <address class="author_afil">
      Yale University<br><a class="author_email" href="mailto:#"></a><a href="mailto:peter.phillips@yale.edu">peter.phillips@yale.edu</a>
      </address>
                              <h4 class="author">Shuping Shi</h4>
            <address class="author_afil">
      Macquarie University<br><a class="author_email" href="mailto:#"></a><a href="mailto:shuping.shi@mq.edu.au">shuping.shi@mq.edu.au</a>
      </address>
                              <h4 class="author">Itamar Caspi</h4>
            <address class="author_afil">
      Bank of Israel and Bar-Illan University<br><a class="author_email" href="mailto:#"></a><a href="mailto:caspi.itamar@gmail.com">caspi.itamar@gmail.com</a>
      </address>
                  
            <h4 class="date">October, 2018</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/itamarcaspi/psymonitor/blob/master/vignettes/illustrationBONDS.Rmd"><code>vignettes/illustrationBONDS.Rmd</code></a></small>
      <div class="hidden name"><code>illustrationBONDS.Rmd</code></div>

    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      In this tutorial we illustrate the effectiveness of the PSY procedure in detecting crisis with an applications to the European Sovereign Sector using R and the <em>psymonitor</em> package.
    </div>
    
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Before beginning the tutorial, make sure that you have all the necessary packages. Try running the cell below and, if any issues arise, follow the instructions within.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">echo =</span> <span class="ot">TRUE</span>, <span class="dt">warning =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">                      <span class="dt">message =</span> <span class="ot">FALSE</span>, <span class="dt">comment =</span> <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># CRAN Packages </span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># -------------</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co"># If any of these packages are not installed, write</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co"># install.packages("&lt;name of package&gt;")</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co"># e.g., install.packages("MultipleBubbles")</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">library</span>(psymonitor)  <span class="co"># For testting for bubble monitoring</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="kw">library</span>(ggplot2)     <span class="co"># To handle plots</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="kw">library</span>(knitr)       <span class="co"># for nice looking tables</span></a></code></pre></div>
</div>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The Data</h2>
<p>The European sovereign debt sector experienced an extremely turbulent period over the last decade, which caused significant harm to the real economy (Acharya et al., 2018) and led to an unprecedented level of unemployment (Karafolas and Alexandrakis, 2015). The PSY detection algorithm can serve as a useful early warning mechanism for escalating credit risk, which is acknowledged as a leading indicator of financial and economic crises, and thereby enable timely policy action and effective risk management to avert more serious economic damage. To show the potential efficacy of this early warning system, we conduct a pseudo monitoring exercise of credit risk in the European sovereign sector.</p>
<p>Credit risk in the European sovereign sector is proxied by an index constructed as a GDP weighted 10-year government bond yield of the GIIPS (Spain, Ireland, Italy, Greece, and Portugal) countries.5 The PSY strategy is applied to the spread between the GIIPS bond yield index and the 10-year government bond yield of Germany (used as a proxy for a prevailing benchmark of economic fundamentals). The sample data runs from June 1997 to June 2016 and was downloaded from <em>Datastream International</em>. The GDP data are downloaded quarterly and converted to a monthly frequency by assuming a constant value within each quarter.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">data</span>(spread)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">kable</span>(<span class="kw">head</span>(spread))</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">date</th>
<th align="right">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1997-06-01</td>
<td align="right">1.2225196</td>
</tr>
<tr class="even">
<td align="left">1997-07-01</td>
<td align="right">1.0259384</td>
</tr>
<tr class="odd">
<td align="left">1997-08-01</td>
<td align="right">1.0510309</td>
</tr>
<tr class="even">
<td align="left">1997-09-01</td>
<td align="right">0.8448181</td>
</tr>
<tr class="odd">
<td align="left">1997-10-01</td>
<td align="right">0.7406163</td>
</tr>
<tr class="even">
<td align="left">1997-11-01</td>
<td align="right">0.7833504</td>
</tr>
</tbody>
</table>
<p>Figure 3 plots the bond yield spread over the sample period. The bond yield index experienced a rapid and substantial rise between 2008-2009. It continued to mount to historical highs from 2010 onwards and peaked in June 2012. The bond yield index has dropped since then and becomes relatively stable over the last two years. The codes for implementing the PSY procedure are identical to those for Example 1. The estimated start and end dates of the crisis episodes are displayed below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">ggplot</span>(spread, <span class="kw">aes</span>(date, value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Figure 1: Credit Risk in the European Sovereign Sector"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">"Year"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">"Index"</span>)</a></code></pre></div>
<p><img src="illustrationBONDS_files/figure-html/plotSpread-1.png" width="768"></p>
</div>
<div id="real-time-monitoring" class="section level2">
<h2 class="hasAnchor">
<a href="#real-time-monitoring" class="anchor"></a>Real-Time Monitoring</h2>
<p>With a training period of 29 observations, we start the pseudo real-time monitoring exercise from October 1999 onwards. The PSY test statistics are compared with the 95% bootstrapped critical value. The empirical size is controlled over a two-year period, i.e., by taking <span class="math inline">\(Tb = 24\)</span>. The lag order is selected by BIC with a maximum lag order of 6, applied to each subsample. The PSY statistic sequence and the corresponding bootstrap critical values can be calculated as follows in R:</p>
<p>First, we define the series and parameters that are used as inputs for the test procedure:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">y        &lt;-<span class="st"> </span>spread<span class="op">$</span>value</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">obs      &lt;-<span class="st"> </span><span class="kw">length</span>(y)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">r0       &lt;-<span class="st"> </span><span class="fl">0.01</span> <span class="op">+</span><span class="st"> </span><span class="fl">1.8</span><span class="op">/</span><span class="kw">sqrt</span>(obs)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">swindow0 &lt;-<span class="st"> </span><span class="kw">floor</span>(r0<span class="op">*</span>obs)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">dim      &lt;-<span class="st"> </span>obs <span class="op">-</span><span class="st"> </span>swindow0 <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">IC       &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">adflag   &lt;-<span class="st"> </span><span class="dv">6</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">yr       &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9">Tb       &lt;-<span class="st"> </span><span class="dv">12</span><span class="op">*</span>yr <span class="op">+</span><span class="st"> </span>swindow0 <span class="op">-</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">nboot    &lt;-<span class="st"> </span><span class="dv">9</span></a></code></pre></div>
<p>Next, we run the test</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">bsadf          &lt;-<span class="st"> </span><span class="kw"><a href="../reference/PSY.html">PSY</a></span>(y, swindow0, IC, adflag)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">quantilesBsadf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cvPSYwmboot.html">cvPSYwmboot</a></span>(y, swindow0, IC, adflag, Tb, nboot, <span class="dt">nCores =</span> <span class="dv">2</span>) <span class="co">#Note that the number of cores is arbitrarily set to 2.</span></a></code></pre></div>
<p>The identified origination and termination dates can be calculated and viewed with the following commands:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">monitorDates &lt;-<span class="st"> </span>spread<span class="op">$</span>date[swindow0<span class="op">:</span>obs]</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">quantile95   &lt;-<span class="st"> </span>quantilesBsadf <span class="op">%*%</span><span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">ncol =</span> dim)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">ind95        &lt;-<span class="st"> </span>(bsadf <span class="op">&gt;</span><span class="st"> </span><span class="kw">t</span>(quantile95[<span class="dv">2</span>, ])) <span class="op">*</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">periods      &lt;-<span class="st"> </span><span class="kw"><a href="../reference/locate.html">locate</a></span>(ind95, monitorDates)</a></code></pre></div>
<p>and printed out using the <em>disp</em> function</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">crisisDates &lt;-<span class="st"> </span><span class="kw"><a href="../reference/disp.html">disp</a></span>(periods, obs)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">kable</span>(crisisDates, <span class="dt">caption =</span> <span class="st">"Crisis Periods in the European Soevereign Debt Market"</span>)</a></code></pre></div>
<table class="table">
<caption>Crisis Periods in the European Soevereign Debt Market</caption>
<thead><tr class="header">
<th align="left">start</th>
<th align="left">end</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2008-03-01</td>
<td align="left">2008-03-01</td>
</tr>
<tr class="even">
<td align="left">2008-09-01</td>
<td align="left">2009-04-01</td>
</tr>
<tr class="odd">
<td align="left">2010-05-01</td>
<td align="left">2012-08-01</td>
</tr>
</tbody>
</table>
<p>The shaded areas in Figure 2 are the identified periods of crisis obtained using the 95% bootstrap critical values. The first alarm signal of risk appeared in March 2008 and lasts for one month. The alarm was triggered again after the collapse of Lehman Brothers in October 2008 and turns off in March 2009. The stress indicator switched on again in May 2010 and lasted until August 2012.</p>
<p>The codes for generating the plot and shaded overlays in the figure are as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_rect</span>(<span class="dt">data =</span> crisisDates, <span class="kw">aes</span>(<span class="dt">xmin =</span> start, <span class="dt">xmax =</span> end, </a>
<a class="sourceLine" id="cb8-3" data-line-number="3">                              <span class="dt">ymin =</span> <span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax =</span> <span class="ot">Inf</span>), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">data =</span> spread, <span class="kw">aes</span>(date, value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Figure 2: Crisis episodes in the European Sovereign Sector"</span>,</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">       <span class="dt">subtitle =</span> <span class="st">"June 1997 - June 2016"</span>,</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">       <span class="dt">caption =</span> <span class="st">"Notes: The solid line is the 10-year government bond yield spread between the PIIGS countries and Germany and the shaded areas are the periods where the PSY statistic exceeds its 95% bootstrap critical value."</span>, </a>
<a class="sourceLine" id="cb8-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">"Year"</span>, <span class="dt">y =</span> <span class="st">"Index"</span>) </a></code></pre></div>
<p><img src="illustrationBONDS_files/figure-html/dateStampPlot-1.png" width="768"></p>
<hr>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<ul>
<li>Phillips, P. C. B., &amp; Shi, S.(2017). Detecting financial collapse and ballooning sovereign risk. Cowles Foundation Discussion Paper No. 2110.</li>
<li>Phillips, P. C. B., &amp; Shi, S.(forthcoming). Real time monitoring of asset markets: Bubbles and crisis. In Hrishikesh D. Vinod and C.R. Rao (Eds.), <em>Handbook of Statistics Volume 41 - Econometrics Using R</em>.</li>
<li>Phillips, P. C. B., Shi, S., &amp; Yu, J. (2015a). Testing for multiple bubbles: Historical episodes of exuberance and collapse in the S&amp;P 500. <em>International Economic Review</em>, 56(4), 1034–1078.</li>
<li>Phillips, P. C. B., Shi, S., &amp; Yu, J. (2015b). Testing for multiple bubbles: Limit Theory for Real-Time Detectors. <em>International Economic Review</em>, 56(4), 1079–1134.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#setup">Setup</a></li>
      <li><a href="#the-data">The Data</a></li>
      <li><a href="#real-time-monitoring">Real-Time Monitoring</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://korora.econ.yale.edu/phillips/">Peter C.B. Phillips</a>, <a href="https://sites.google.com/site/shupingshi/home/">Shuping Shi</a>, <a href="http://www.itamarcaspi.net/">Itamar Caspi</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script>
  docsearch({
    
    
    apiKey: 'e656dd3edb0bba05760e48324639d75e',
    indexName: 'psymonitor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
